<div *ngIf="roomsState | async as rooms"
    [ngStyle]="{ 'padding': '20px 20px 30px 20px' }"
     class="u-fontFamily-CircularStd-Black u-height-100"
     fxLayout="column">
    <ng-container *ngIf="!isLoading">
        <div fxLayout="row"
             fxFlex="none">
            <div fxFlex
                 fxLayout="row"
                 fxLayoutAlign="start center">
                <a routerLink="/"
                   mat-icon-button
                   class="color-black">
                    <i class="material-icons"
                       style="font-size: 40px;">
                        chevron_left
                    </i>
                </a>
            </div>
        </div>
        <div fxLayout="column"
             fxFlex>
            <div fxFlex="15%"></div>
            <div fxFlex="85%">
                <form #form="ngForm"
                      (ngSubmit)="goToCreate(rooms, form.value.code)"
                      novalidate
                      class="u-height-100">
                    <div fxLayout="column"
                         class="u-height-100">
                        <div fxFlex="15%"
                             fxLayout="column">
                            <div class="inputLabel">
                                What is your room code bruh?
                            </div>
                            <div class="inputContainer"
                                 [ngClass]="{ 'inputExistsContainer': inputFocused || inputCode, 'inputEmptyContainer': !inputCode }">
                                <div fxLayout="row"
                                     fxLayoutAlign="center">
                                    <div fxFlex="80%">
                                        <input class="input u-textTransform-uppercase"
                                               name="code"
                                               ngModel
                                               #code="ngModel"
                                               [(ngModel)]="inputCode"
                                               [ngClass]="{ 'inputExists': inputCode, 'inputEmpty': !inputCode }"
                                               style="font-family: 'CircularStd-Black'"
                                               type="text"
                                               autocomplete="off"
                                               maxlength="4"
                                               (focus)="toggleFocus()"
                                               (blur)="toggleFocus()"
                                               autofocus/>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div fxFlex="85%"
                             fxLayout="column"
                             fxLayoutAlign="end center">
                            <div fxFlex="none"
                                 class="u-width-100">
                                <button mat-raised-button
                                        color="accent"
                                        class="c-btn u-width-100"
                                        (click)="goToCreate(inputCode)"
                                        [ngClass]="{ 'c-btn-bottom-border--light-black': hasInputCode(), 'c-btn--grey c-btn--name--disabled': !hasInputCode() }">
                                    Yeah, that's the room code
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="isLoading">
        <app-loading-view></app-loading-view>
    </ng-container>
</div>

